/* [create-plugin] version: 5.1.1 */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","emotion","lodash","react"],((e,t,r,n,o,i,l)=>(()=>{var a={501:(e,t)=>{var r;t=e.exports=g,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=n-6,l=t.re=[],a=t.safeRe=[],s=t.src=[],u=t.tokens={},c=0;function p(e){u[e]=c++}var d="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",n],[d,i]];function h(e){for(var t=0;t<f.length;t++){var r=f[t][0],n=f[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}p("NUMERICIDENTIFIER"),s[u.NUMERICIDENTIFIER]="0|[1-9]\\d*",p("NUMERICIDENTIFIERLOOSE"),s[u.NUMERICIDENTIFIERLOOSE]="\\d+",p("NONNUMERICIDENTIFIER"),s[u.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-]"+d+"*",p("MAINVERSION"),s[u.MAINVERSION]="("+s[u.NUMERICIDENTIFIER]+")\\.("+s[u.NUMERICIDENTIFIER]+")\\.("+s[u.NUMERICIDENTIFIER]+")",p("MAINVERSIONLOOSE"),s[u.MAINVERSIONLOOSE]="("+s[u.NUMERICIDENTIFIERLOOSE]+")\\.("+s[u.NUMERICIDENTIFIERLOOSE]+")\\.("+s[u.NUMERICIDENTIFIERLOOSE]+")",p("PRERELEASEIDENTIFIER"),s[u.PRERELEASEIDENTIFIER]="(?:"+s[u.NUMERICIDENTIFIER]+"|"+s[u.NONNUMERICIDENTIFIER]+")",p("PRERELEASEIDENTIFIERLOOSE"),s[u.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[u.NUMERICIDENTIFIERLOOSE]+"|"+s[u.NONNUMERICIDENTIFIER]+")",p("PRERELEASE"),s[u.PRERELEASE]="(?:-("+s[u.PRERELEASEIDENTIFIER]+"(?:\\."+s[u.PRERELEASEIDENTIFIER]+")*))",p("PRERELEASELOOSE"),s[u.PRERELEASELOOSE]="(?:-?("+s[u.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[u.PRERELEASEIDENTIFIERLOOSE]+")*))",p("BUILDIDENTIFIER"),s[u.BUILDIDENTIFIER]=d+"+",p("BUILD"),s[u.BUILD]="(?:\\+("+s[u.BUILDIDENTIFIER]+"(?:\\."+s[u.BUILDIDENTIFIER]+")*))",p("FULL"),p("FULLPLAIN"),s[u.FULLPLAIN]="v?"+s[u.MAINVERSION]+s[u.PRERELEASE]+"?"+s[u.BUILD]+"?",s[u.FULL]="^"+s[u.FULLPLAIN]+"$",p("LOOSEPLAIN"),s[u.LOOSEPLAIN]="[v=\\s]*"+s[u.MAINVERSIONLOOSE]+s[u.PRERELEASELOOSE]+"?"+s[u.BUILD]+"?",p("LOOSE"),s[u.LOOSE]="^"+s[u.LOOSEPLAIN]+"$",p("GTLT"),s[u.GTLT]="((?:<|>)?=?)",p("XRANGEIDENTIFIERLOOSE"),s[u.XRANGEIDENTIFIERLOOSE]=s[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",p("XRANGEIDENTIFIER"),s[u.XRANGEIDENTIFIER]=s[u.NUMERICIDENTIFIER]+"|x|X|\\*",p("XRANGEPLAIN"),s[u.XRANGEPLAIN]="[v=\\s]*("+s[u.XRANGEIDENTIFIER]+")(?:\\.("+s[u.XRANGEIDENTIFIER]+")(?:\\.("+s[u.XRANGEIDENTIFIER]+")(?:"+s[u.PRERELEASE]+")?"+s[u.BUILD]+"?)?)?",p("XRANGEPLAINLOOSE"),s[u.XRANGEPLAINLOOSE]="[v=\\s]*("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[u.XRANGEIDENTIFIERLOOSE]+")(?:"+s[u.PRERELEASELOOSE]+")?"+s[u.BUILD]+"?)?)?",p("XRANGE"),s[u.XRANGE]="^"+s[u.GTLT]+"\\s*"+s[u.XRANGEPLAIN]+"$",p("XRANGELOOSE"),s[u.XRANGELOOSE]="^"+s[u.GTLT]+"\\s*"+s[u.XRANGEPLAINLOOSE]+"$",p("COERCE"),s[u.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",p("COERCERTL"),l[u.COERCERTL]=new RegExp(s[u.COERCE],"g"),a[u.COERCERTL]=new RegExp(h(s[u.COERCE]),"g"),p("LONETILDE"),s[u.LONETILDE]="(?:~>?)",p("TILDETRIM"),s[u.TILDETRIM]="(\\s*)"+s[u.LONETILDE]+"\\s+",l[u.TILDETRIM]=new RegExp(s[u.TILDETRIM],"g"),a[u.TILDETRIM]=new RegExp(h(s[u.TILDETRIM]),"g");p("TILDE"),s[u.TILDE]="^"+s[u.LONETILDE]+s[u.XRANGEPLAIN]+"$",p("TILDELOOSE"),s[u.TILDELOOSE]="^"+s[u.LONETILDE]+s[u.XRANGEPLAINLOOSE]+"$",p("LONECARET"),s[u.LONECARET]="(?:\\^)",p("CARETTRIM"),s[u.CARETTRIM]="(\\s*)"+s[u.LONECARET]+"\\s+",l[u.CARETTRIM]=new RegExp(s[u.CARETTRIM],"g"),a[u.CARETTRIM]=new RegExp(h(s[u.CARETTRIM]),"g");p("CARET"),s[u.CARET]="^"+s[u.LONECARET]+s[u.XRANGEPLAIN]+"$",p("CARETLOOSE"),s[u.CARETLOOSE]="^"+s[u.LONECARET]+s[u.XRANGEPLAINLOOSE]+"$",p("COMPARATORLOOSE"),s[u.COMPARATORLOOSE]="^"+s[u.GTLT]+"\\s*("+s[u.LOOSEPLAIN]+")$|^$",p("COMPARATOR"),s[u.COMPARATOR]="^"+s[u.GTLT]+"\\s*("+s[u.FULLPLAIN]+")$|^$",p("COMPARATORTRIM"),s[u.COMPARATORTRIM]="(\\s*)"+s[u.GTLT]+"\\s*("+s[u.LOOSEPLAIN]+"|"+s[u.XRANGEPLAIN]+")",l[u.COMPARATORTRIM]=new RegExp(s[u.COMPARATORTRIM],"g"),a[u.COMPARATORTRIM]=new RegExp(h(s[u.COMPARATORTRIM]),"g");p("HYPHENRANGE"),s[u.HYPHENRANGE]="^\\s*("+s[u.XRANGEPLAIN]+")\\s+-\\s+("+s[u.XRANGEPLAIN]+")\\s*$",p("HYPHENRANGELOOSE"),s[u.HYPHENRANGELOOSE]="^\\s*("+s[u.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[u.XRANGEPLAINLOOSE]+")\\s*$",p("STAR"),s[u.STAR]="(<|>)?=?\\s*\\*";for(var m=0;m<c;m++)r(m,s[m]),l[m]||(l[m]=new RegExp(s[m]),a[m]=new RegExp(h(s[m])));function v(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof g)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?a[u.LOOSE]:a[u.FULL]).test(e))return null;try{return new g(e,t)}catch(e){return null}}function g(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof g){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof g))return new g(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=v,t.valid=function(e,t){var r=v(e,t);return r?r.version:null},t.clean=function(e,t){var r=v(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=g,g.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},g.prototype.toString=function(){return this.version},g.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof g||(e=new g(e,this.options)),this.compareMain(e)||this.comparePre(e)},g.prototype.compareMain=function(e){return e instanceof g||(e=new g(e,this.options)),E(this.major,e.major)||E(this.minor,e.minor)||E(this.patch,e.patch)},g.prototype.comparePre=function(e){if(e instanceof g||(e=new g(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return E(n,o)}while(++t)},g.prototype.compareBuild=function(e){e instanceof g||(e=new g(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return E(n,o)}while(++t)},g.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new g(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(T(e,t))return null;var r=v(e),n=v(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var l in r)if(("major"===l||"minor"===l||"patch"===l)&&r[l]!==n[l])return o+l;return i},t.compareIdentifiers=E;var y=/^[0-9]+$/;function E(e,t){var r=y.test(e),n=y.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function b(e,t,r){return new g(e,r).compare(new g(t,r))}function O(e,t,r){return b(e,t,r)>0}function I(e,t,r){return b(e,t,r)<0}function T(e,t,r){return 0===b(e,t,r)}function R(e,t,r){return 0!==b(e,t,r)}function w(e,t,r){return b(e,t,r)>=0}function N(e,t,r){return b(e,t,r)<=0}function L(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return T(e,r,n);case"!=":return R(e,r,n);case">":return O(e,r,n);case">=":return w(e,r,n);case"<":return I(e,r,n);case"<=":return N(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof S))return new S(e,t);e=e.trim().split(/\s+/).join(" "),r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===P?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return E(t,e)},t.major=function(e,t){return new g(e,t).major},t.minor=function(e,t){return new g(e,t).minor},t.patch=function(e,t){return new g(e,t).patch},t.compare=b,t.compareLoose=function(e,t){return b(e,t,!0)},t.compareBuild=function(e,t,r){var n=new g(e,r),o=new g(t,r);return n.compare(o)||n.compareBuild(o)},t.rcompare=function(e,t,r){return b(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compareBuild(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.compareBuild(n,e,r)}))},t.gt=O,t.lt=I,t.eq=T,t.neq=R,t.gte=w,t.lte=N,t.cmp=L,t.Comparator=S;var P={};function A(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof A)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new A(e.raw,t);if(e instanceof S)return new A(e.value,t);if(!(this instanceof A))return new A(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function C(e,t){for(var r=!0,n=e.slice(),o=n.pop();r&&n.length;)r=n.every((function(e){return o.intersects(e,t)})),o=n.pop();return r}function x(e){return!e||"x"===e.toLowerCase()||"*"===e}function F(e,t,r,n,o,i,l,a,s,u,c,p,d){return((t=x(r)?"":x(n)?">="+r+".0.0":x(o)?">="+r+"."+n+".0":">="+t)+" "+(a=x(s)?"":x(u)?"<"+(+s+1)+".0.0":x(c)?"<"+s+"."+(+u+1)+".0":p?"<="+s+"."+u+"."+c+"-"+p:"<="+a)).trim()}function D(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==P&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function M(e,t,r){try{t=new A(t,r)}catch(e){return!1}return t.test(e)}function j(e,t,r,n){var o,i,l,a,s;switch(e=new g(e,n),t=new A(t,n),r){case">":o=O,i=N,l=I,a=">",s=">=";break;case"<":o=I,i=w,l=O,a="<",s="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var c=t.set[u],p=null,d=null;if(c.forEach((function(e){e.semver===P&&(e=new S(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:l(e.semver,d.semver,n)&&(d=e)})),p.operator===a||p.operator===s)return!1;if((!d.operator||d.operator===a)&&i(e,d.semver))return!1;if(d.operator===s&&l(e,d.semver))return!1}return!0}S.prototype.parse=function(e){var t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new g(r[2],this.options.loose):this.semver=P},S.prototype.toString=function(){return this.value},S.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===P||e===P)return!0;if("string"==typeof e)try{e=new g(e,this.options)}catch(e){return!1}return L(e,this.operator,this.semver,this.options)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new A(e.value,t),M(this.value,r,t));if(""===e.operator)return""===e.value||(r=new A(this.value,t),M(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,l=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=L(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),s=L(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&l||a||s},t.Range=A,A.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},A.prototype.toString=function(){return this.range},A.prototype.parseRange=function(e){var t=this.options.loose,n=t?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];e=e.replace(n,F),r("hyphen replace",e),e=e.replace(a[u.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,a[u.COMPARATORTRIM]),e=(e=(e=e.replace(a[u.TILDETRIM],"$1~")).replace(a[u.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=t?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?a[u.CARETLOOSE]:a[u.CARET];return e.replace(n,(function(t,n,o,i,l){var a;return r("caret",e,t,n,o,i,l),x(n)?a="":x(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":x(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":l?(r("replaceCaret pr",l),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+l+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+l+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+l+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?a[u.TILDELOOSE]:a[u.TILDE];return e.replace(n,(function(t,n,o,i,l){var a;return r("tilde",e,t,n,o,i,l),x(n)?a="":x(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":x(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":l?(r("replaceTilde pr",l),a=">="+n+"."+o+"."+i+"-"+l+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return e.replace(n,(function(n,o,i,l,a,s){r("xRange",e,n,o,i,l,a,s);var u=x(i),c=u||x(l),p=c||x(a),d=p;return"="===o&&d&&(o=""),s=t.includePrerelease?"-0":"",u?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&d?(c&&(l=0),a=0,">"===o?(o=">=",c?(i=+i+1,l=0,a=0):(l=+l+1,a=0)):"<="===o&&(o="<",c?i=+i+1:l=+l+1),n=o+i+"."+l+"."+a+s):c?n=">="+i+".0.0"+s+" <"+(+i+1)+".0.0"+s:p&&(n=">="+i+"."+l+".0"+s+" <"+i+"."+(+l+1)+".0"+s),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[u.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(o)}))),i=i.map((function(e){return new S(e,this.options)}),this)},A.prototype.intersects=function(e,t){if(!(e instanceof A))throw new TypeError("a Range is required");return this.set.some((function(r){return C(r,t)&&e.set.some((function(e){return C(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new A(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},A.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new g(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1},t.satisfies=M,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new A(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new g(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new A(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new g(n=e,r)))})),n},t.minVersion=function(e,t){e=new A(e,t);var r=new g("0.0.0");if(e.test(r))return r;if(r=new g("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new g(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!O(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new A(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return j(e,t,"<",r)},t.gtr=function(e,t,r){return j(e,t,">",r)},t.outside=j,t.prerelease=function(e,t){var r=v(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new A(e,r),t=new A(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof g)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=a[u.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),a[u.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;a[u.COERCERTL].lastIndex=-1}else r=e.match(a[u.COERCE]);if(null===r)return null;return v(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}},89:t=>{"use strict";t.exports=e},781:e=>{"use strict";e.exports=t},531:e=>{"use strict";e.exports=r},7:e=>{"use strict";e.exports=n},485:e=>{"use strict";e.exports=o},241:e=>{"use strict";e.exports=i},959:e=>{"use strict";e.exports=l}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return a[e](r,r.exports,u),r.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";u.r(c),u.d(c,{defaultGraphConfig:()=>lt,getGraphFieldConfig:()=>st,plugin:()=>ut});var e=u(781),t=(e=>(e.Auto="auto",e.Bottom="bottom",e.Hidden="hidden",e.Left="left",e.Right="right",e.Top="top",e))(t||{}),r=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(r||{}),n=(e=>(e.Bars="bars",e.Line="line",e.Points="points",e))(n||{}),o=(e=>(e.Constant="constant",e.NegativeY="negative-Y",e))(o||{}),i=(e=>(e.Linear="linear",e.Smooth="smooth",e.StepAfter="stepAfter",e.StepBefore="stepBefore",e))(i||{}),l=(e=>(e.Linear="linear",e.Log="log",e.Ordinal="ordinal",e.Symlog="symlog",e))(l||{}),a=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(a||{}),s=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(s||{}),p=(e=>(e[e.After=1]="After",e[e.Before=-1]="Before",e[e.Center=0]="Center",e))(p||{});var d=(e=>(e.Area="area",e.Dashed="dashed",e.DashedAndArea="dashed+area",e.Line="line",e.LineAndArea="line+area",e.Off="off",e.Series="series",e))(d||{}),f=(e=>(e.Hidden="hidden",e.List="list",e.Table="table",e))(f||{});var h=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(h||{}),m=(e=>(e.Ascending="asc",e.Descending="desc",e.None="none",e))(m||{});var v=(e=>(e.EQ="eq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.NEQ="neq",e))(v||{});var g=u(959),y=u.n(g),E=u(7),b=u(531),O=u(89);function I(e){return"function"==typeof e}function T(e){return function(t){if(function(e){return I(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var R=function(e,t){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},R(e,t)};function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;function N(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return l}function S(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;var P,A=((P=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),P.prototype.constructor=P,P);function C(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var x=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=N(i),a=l.next();!a.done;a=l.next()){a.value.remove(this)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else i.remove(this);var s=this.initialTeardown;if(I(s))try{s()}catch(e){o=e instanceof A?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=N(u),p=c.next();!p.done;p=c.next()){var d=p.value;try{F(d)}catch(e){o=null!=o?o:[],e instanceof A?o=S(S([],L(o)),L(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(o)throw new A(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)F(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&C(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&C(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();x.EMPTY;function F(e){I(e)?e():e.unsubscribe()}var D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=M.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,S([e,t],L(r))):setTimeout.apply(void 0,S([e,t],L(r)))},clearTimeout:function(e){var t=M.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function j(){}var _=k("C",void 0,void 0);function k(e,t,r){return{kind:e,value:t,error:r}}var G=null;var B=function(e){function t(t){var r,n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,((r=t)instanceof x||r&&"closed"in r&&I(r.remove)&&I(r.add)&&I(r.unsubscribe))&&t.add(n)):n.destination=W,n}return w(t,e),t.create=function(e,t,r){return new z(e,t,r)},t.prototype.next=function(e){this.isStopped?H(function(e){return k("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?H(k("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?H(_,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(x),U=Function.prototype.bind;function V(e,t){return U.call(e,t)}var $=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){X(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){X(e)}else X(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){X(e)}},e}(),z=function(e){function t(t,r,n){var o,i,l=e.call(this)||this;I(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:l&&D.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},o={next:t.next&&V(t.next,i),error:t.error&&V(t.error,i),complete:t.complete&&V(t.complete,i)}):o=t;return l.destination=new $(o),l}return w(t,e),t}(B);function X(e){var t;D.useDeprecatedSynchronousErrorHandling?(t=e,D.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=t)):function(e){M.setTimeout((function(){var t=D.onUnhandledError;if(!t)throw e;t(e)}))}(e)}function H(e,t){var r=D.onStoppedNotification;r&&M.setTimeout((function(){return r(e,t)}))}var W={closed:!0,next:j,error:function(e){throw e},complete:j};var Z=function(e){function t(t,r,n,o,i,l){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=l,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return w(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(B);function Y(e,t){return T((function(r,n){var o,i,l,a=0;r.subscribe(new Z(n,(function(r){n.next(e.call(t,r,a++))}),o,i,l))}))}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){q(e,t,r[t])}))}return e}function J(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Q={id:e.DataTransformerID.convertFieldType,name:"Convert field type",description:"Convert a field to a specified field type.",defaultOptions:{fields:{},conversions:[{targetField:void 0,destinationType:void 0,dateFormat:void 0,timezone:void 0}]},operator:(e,t)=>r=>r.pipe(Y((r=>Q.transformer(e,t)(r)))),transformer:t=>r=>{return Array.isArray(r)&&0!==r.length?null!==(n=function(t,r){if(!t.conversions.length)return r;const n=r.map((e=>K({},e)));for(const r of t.conversions){if(!r.targetField)continue;const t=e.fieldMatchers.get(e.FieldMatcherID.byName).get(r.targetField);for(const e of n)e.fields=e.fields.map((o=>t(o,e,n)?ee(o,r):o))}return n}(t,r))&&void 0!==n?n:[]:r;var n}};function ee(t,r){switch(r.destinationType){case e.FieldType.time:return function(t,r){const n="number"==typeof t.values[0];if(t.type===e.FieldType.time&&n)return t;if(n)return J(K({},t),{type:e.FieldType.time});return function(t,r){let n=r?{format:r}:void 0;const o=t.values.slice();let i=o.find((e=>null!=e)),l="string"==typeof i&&te.test(i);for(let t=0;t<o.length;t++)if(o[t]){let r=l?Date.parse(o[t]):(0,e.dateTimeParse)(o[t],n).valueOf();o[t]=Number.isFinite(r)?r:null}else o[t]=null;return J(K({},t),{type:e.FieldType.time,values:o})}(t,r)}(t,r.dateFormat);case e.FieldType.number:return function(t){const r=t.values.slice(),n=r.some((e=>"string"==typeof e));for(let e=0;e<r.length;e++){let t=r[e];n&&null!=t&&"string"==typeof t&&(t=t.replace(/,/g,""));const o=+t;r[e]=Number.isFinite(o)?o:null}return J(K({},t),{type:e.FieldType.number,values:r})}(t);case e.FieldType.string:return function(t,r,n,o){let i=t.values;switch(t.type){case e.FieldType.time:i=i.map((t=>(0,e.dateTimeParse)(t,n).format(r)));break;case e.FieldType.other:i=i.map((e=>(null==o?void 0:o.length)&&Array.isArray(e)?e.join(o):JSON.stringify(e)));break;default:i=i.map((e=>`${e}`))}return J(K({},t),{type:e.FieldType.string,values:i})}(t,r.dateFormat,{timeZone:r.timezone},r.joinWith);case e.FieldType.boolean:return function(t){const r=t.values.slice();for(let e=0;e<r.length;e++)r[e]=Boolean(!!r[e]);return J(K({},t),{type:e.FieldType.boolean,values:r})}(t);case e.FieldType.enum:return function(t,r){const n=K({},r),o=t.values.slice(),i=new Map;if(!(n.text&&n.text.length>0))return t;for(let e=0;e<n.text.length;e++)i.set(n.text[e],e);for(let e=0;e<o.length;e++){const t=o[e];o[e]=i.get(t)}return J(K({},t),{config:J(K({},t.config),{type:{enum:n}}),type:e.FieldType.enum,values:o})}(t,r.enumConfig);case e.FieldType.other:return function(t){const r=t.values.slice();for(let e=0;e<r.length;e++)try{r[e]=JSON.parse(r[e])}catch(t){r[e]=null}return J(K({},t),{type:e.FieldType.other,values:r})}(t);default:return t}}const te=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d{3,})?(?:Z|[-+]\d{2}:?\d{2})$/;function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){re(e,t,r[t])}))}return e}function oe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function ie(t){let r=new Map;return t.map((t=>oe(ne({},t),{fields:t.fields.map((t=>{if(t.type===e.FieldType.enum){let e=(0,E.buildScaleKey)(t.config,t.type),n=r.get(e);n||(n=[],r.set(e,n));let o=t.values.toArray().slice(),i=t.config.type.enum.text;if(n.length>0)for(let e=0;e<o.length;e++)o[e]+=n.length;return n.push(...i),t.config.type.enum.text=n,oe(ne({},t),{values:o})}return t}))})))}const le=(t,r)=>{const{palette:n}=r.visualization;for(const i of t)for(const t of i.fields)if(t.type===e.FieldType.enum){var o;const i=n[(null===(o=t.state)||void 0===o?void 0:o.seriesIndex)%n.length],l=r.visualization.getColorByName(i),a=t.config.type.enum;a.color=Array(a.text.length).fill(l),t.display=(0,e.getDisplayProcessor)({field:t,theme:r})}},ae=(t,r,n)=>{let o=0;t.forEach((t=>{t.fields.forEach(((t,i)=>{i===n||t.type!==e.FieldType.number&&t.type!==e.FieldType.boolean&&t.type!==e.FieldType.enum||(t.state=oe(ne({},t.state),{seriesIndex:o++}),t.display=(0,e.getDisplayProcessor)({field:t,theme:r}))}))}))};var se,ue;!function(e){e.series="series",e.value="value",e.hexagon="hexagon",e.pie_1_4="pie_1_4",e.pie_2_4="pie_2_4",e.pie_3_4="pie_3_4",e.marker_sm="marker_sm",e.marker_md="marker_md",e.marker_lg="marker_lg"}(se||(se={})),function(e){e.hidden="hidden",e.first="first",e.leading="leading",e.trailing="trailing"}(ue||(ue={}));const ce=(e,t)=>{switch(e){case se.value:return t.value;case se.series:return t.series;case se.hexagon:return t.hexagon;case se.pie_1_4:return t.pie_1_4;case se.pie_2_4:return t.pie_2_4;case se.pie_3_4:return t.pie_3_4;case se.marker_sm:return t.marker_sm;case se.marker_md:return t.marker_md;case se.marker_lg:return t.marker_lg;default:return t.value}},pe=(e,t)=>e.numeric-t.numeric,de=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),fe=(e,t)=>de.compare(`${e.value}`,`${t.value}`);var he;!function(e){e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing"}(he||(he={}));const me=({color:t=e.FALLBACK_COLOR,colorIndicator:r="series",position:n=0})=>{const o=(0,E.useStyles2)(ve);return y().createElement("span",{style:{backgroundColor:t},className:(0,O.cx)(0===n?o.leading:o.trailing,ce(r,o))})},ve=e=>({leading:(0,O.css)({marginRight:e.spacing(.5)}),trailing:(0,O.css)({marginLeft:e.spacing(.5)}),series:(0,O.css)({width:"14px",height:"4px",borderRadius:e.shape.radius.pill,minWidth:"14px"}),value:(0,O.css)({width:"12px",height:"12px",borderRadius:e.shape.radius.default,fontWeight:500,minWidth:"12px"}),hexagon:(0,O.css)({}),pie_1_4:(0,O.css)({}),pie_2_4:(0,O.css)({}),pie_3_4:(0,O.css)({}),marker_sm:(0,O.css)({width:"4px",height:"4px",borderRadius:e.shape.radius.circle,minWidth:"4px"}),marker_md:(0,O.css)({width:"8px",height:"8px",borderRadius:e.shape.radius.circle,minWidth:"8px"}),marker_lg:(0,O.css)({width:"12px",height:"12px",borderRadius:e.shape.radius.circle,minWidth:"12px"})});function ge(e,t,r,n,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}var ye;!function(e){e.label="label",e.value="value"}(ye||(ye={}));const Ee="Copied to clipboard",be=({label:e,value:t,color:r,colorIndicator:n,colorPlacement:o=ue.first,justify:i="flex-start",isActive:l=!1,marginRight:a="0px",isPinned:s})=>{var u,c;const p=(0,E.useStyles2)(Oe,i,a),[d,f]=(0,g.useState)(!1),[h,m]=(0,g.useState)(!1),[v,b]=(0,g.useState)(null),[I,T]=(0,g.useState)(!1),R=(0,g.useRef)(null),w=(0,g.useRef)(null);(0,g.useEffect)((()=>{let e;return I&&(e=setTimeout((()=>{T(!1)}),2e3)),()=>{window.clearTimeout(e)}}),[I]);const N=(L=function*(e,t){var r;if((null===(r=navigator)||void 0===r?void 0:r.clipboard)&&window.isSecureContext)try{yield navigator.clipboard.writeText(e),b({[`${t}`]:e}),T(!0)}catch(e){b(null)}else P(e,t)},S=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=L.apply(e,t);function i(e){ge(o,r,n,i,l,"next",e)}function l(e){ge(o,r,n,i,l,"throw",e)}i(void 0)}))},function(e,t){return S.apply(this,arguments)});var L,S;const P=(e,t)=>{var r;const n=document.createElement("textarea");null===(r=R.current)||void 0===r||r.appendChild(n),n.value=e,n.focus(),n.select();try{document.execCommand("copy")&&(b({[`${t}`]:e}),T(!0))}catch(e){}n.remove()};return y().createElement("div",{className:p.contentWrapper},(r||e)&&y().createElement("div",{className:p.valueWrapper},r&&o===ue.first&&y().createElement(me,{color:r,colorIndicator:n}),s?y().createElement(y().Fragment,null,y().createElement(E.Tooltip,{content:e,interactive:!1,show:d},y().createElement(y().Fragment,null,I&&(null==v?void 0:v.label)&&y().createElement(E.InlineToast,{placement:"top",referenceElement:R.current},Ee),y().createElement("div",{className:(0,O.cx)(p.label,l&&p.activeSeries,(null===(u=navigator)||void 0===u?void 0:u.clipboard)&&p.copy),onMouseEnter:e=>{e.currentTarget.offsetWidth<e.currentTarget.scrollWidth&&f(!0)},onMouseLeave:()=>f(!1),onClick:()=>N(e,"label"),ref:R},e)))):y().createElement("div",{className:(0,O.cx)(p.label,l&&p.activeSeries)},e)),y().createElement("div",{className:p.valueWrapper},r&&o===ue.leading&&y().createElement(me,{color:r,colorIndicator:n,position:he.Leading}),s?y().createElement(E.Tooltip,{content:t?t.toString():"",interactive:!1,show:h},y().createElement(y().Fragment,null,I&&(null==v?void 0:v.value)&&y().createElement(E.InlineToast,{placement:"top",referenceElement:w.current},Ee),y().createElement("div",{className:(0,O.cx)(p.value,l,(null===(c=navigator)||void 0===c?void 0:c.clipboard)&&p.copy),onMouseEnter:e=>{e.currentTarget.offsetWidth<e.currentTarget.scrollWidth&&m(!0)},onMouseLeave:()=>m(!1),onClick:()=>N(t?t.toString():"","value"),ref:w},t))):y().createElement("div",{className:(0,O.cx)(p.value,l)},t),r&&o===ue.trailing&&y().createElement(me,{color:r,colorIndicator:n,position:he.Trailing})))},Oe=(e,t,r)=>({contentWrapper:(0,O.css)({display:"flex",alignItems:"center",justifyContent:t,flexWrap:"wrap",marginRight:r}),label:(0,O.css)({color:e.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:e.spacing(2)}),value:(0,O.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),valueWrapper:(0,O.css)({display:"flex",alignItems:"center",minWidth:0}),activeSeries:(0,O.css)({fontWeight:e.typography.fontWeightBold,color:e.colors.text.maxContrast}),copy:(0,O.css)({cursor:"pointer"})}),Ie=({headerLabel:e,isPinned:t})=>{const{label:r,value:n,color:o,colorIndicator:i}=e;return y().createElement(be,{label:r,value:n,color:o,colorIndicator:i,marginRight:"22px",isPinned:t})},Te=({keyValuePairs:e,isPinned:t})=>y().createElement(y().Fragment,null,null==e?void 0:e.map(((e,r)=>y().createElement(be,{key:r,label:e.label,value:e.value,color:e.color,colorIndicator:e.colorIndicator,justify:"space-between",isPinned:t})))),Re=({headerLabel:e,keyValuePairs:t,customValueDisplay:r,isPinned:n})=>{const o=(0,E.useStyles2)(we);return y().createElement("div",{className:o.wrapper},y().createElement(Ie,{headerLabel:e,isPinned:n}),r||y().createElement(Te,{keyValuePairs:t,isPinned:n}))},we=e=>({wrapper:(0,O.css)({display:"flex",flexDirection:"column",flex:1,padding:e.spacing(1)})}),Ne=({dataLinks:e,annotate:t,customelabels:r})=>{const n=(0,E.useStyles2)(Le);return y().createElement("div",{className:n.wrapper},e.length>0&&y().createElement("div",{className:n.dataLinks},(()=>{const t={variant:"secondary"};return y().createElement(E.HorizontalGroup,null,e.map(((e,r)=>y().createElement(E.DataLinkButton,{key:r,link:e,buttonProps:t}))))})()),r.length>0&&y().createElement("div",{className:n.addLabel},r.map(((e,t)=>y().createElement(E.Button,{variant:"secondary",size:"sm",id:"add-label-button",key:t},e.label,": ",e.value)))),t&&y().createElement("div",{className:n.addAnnotations},y().createElement(E.Button,{icon:"comment-alt",variant:"secondary",size:"sm",id:"add-annotation-button",onClick:t},"Add annotation")))},Le=e=>({wrapper:(0,O.css)({display:"flex",flexDirection:"column",flex:1,padding:e.spacing(0)}),dataLinks:(0,O.css)({overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",maskImage:"linear-gradient(90deg, rgba(0, 0, 0, 1) 80%, transparent)",borderTop:`1px solid ${e.colors.border.medium}`,padding:e.spacing(1)}),addAnnotations:(0,O.css)({borderTop:`1px solid ${e.colors.border.medium}`,padding:e.spacing(1)}),addLabel:(0,O.css)({borderTop:`1px solid ${e.colors.border.medium}`,padding:e.spacing(1),flexWrap:"wrap",display:"flex"})}),Se=({contentLabelValue:e,customContent:t,isPinned:r,scrollable:n=!1})=>{const o=(0,E.useStyles2)(Pe),i=n?{maxHeight:400,overflowY:"auto"}:{};return y().createElement("div",{className:o.wrapper,style:i},y().createElement("div",null,e.map(((e,t)=>{const{label:n,value:o,color:i,colorIndicator:l,colorPlacement:a,isActive:s}=e;return y().createElement(be,{key:t,label:n,value:o,color:i,colorIndicator:l,colorPlacement:a,isActive:s,justify:"space-between",isPinned:r})}))),null==t?void 0:t.map(((e,t)=>y().createElement("div",{key:t,className:o.customContentPadding},e))))},Pe=e=>({wrapper:(0,O.css)({display:"flex",flexDirection:"column",flex:1,gap:4,borderTop:`1px solid ${e.colors.border.medium}`,padding:e.spacing(1)}),customContentPadding:(0,O.css)({padding:`${e.spacing(1)} 0`})}),Ae=({frames:t,seriesFrame:r,dataIdxs:n,seriesIdx:o,mode:i=h.Single,sortOrder:l=m.None,scrollable:a=!1,isPinned:s,labelFields:u,annotate:c})=>{const p=(0,E.useStyles2)(Ce),d=r.fields[0],f=d.display(d.values[n[0]]).text,v=((t,r,n,o,i,l,a=(e=>!0))=>{let s=[],u=!1;for(let E=0;E<t.length;E++){var c,p,d,f,v;const b=t[E];if(b===r||b.type===e.FieldType.time||!a(b)||(null===(p=b.config.custom)||void 0===p||null===(c=p.hideFrom)||void 0===c?void 0:c.tooltip)||(null===(f=b.config.custom)||void 0===f||null===(d=f.hideFrom)||void 0===d?void 0:d.viz))continue;if(i===h.Single&&o!==E)continue;let O=n[E];if(null==O)continue;b.type!==e.FieldType.number&&b.type!==e.FieldType.boolean&&b.type!==e.FieldType.enum&&(u=!1);const I=t[E].values[O],T=b.display(I),R=Number.isNaN(T.numeric)?l===m.Descending?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER:T.numeric;var g,y;s.push({label:null!==(g=null===(v=b.state)||void 0===v?void 0:v.displayName)&&void 0!==g?g:b.name,value:(0,e.formattedValueToString)(T),color:null!==(y=T.color)&&void 0!==y?y:e.FALLBACK_COLOR,colorIndicator:se.series,colorPlacement:ue.first,isActive:i===h.Multi&&o===E,numeric:R})}if(l!==m.None&&s.length>1){const e=u?pe:fe,t=l===m.Descending?-1:1;s.sort(((r,n)=>t*e(r,n)))}return s})(r.fields,d,n,o,i,l,(t=>t.type===e.FieldType.number));let g=[];void 0!==t&&void 0!==u&&(g=((t,r,n,o,i,l,a=(e=>!0))=>{let s=[],u=!1;for(let E=0;E<t.length;E++){var c,p,d,f,v;const b=t[E];if(b===r||b.type===e.FieldType.time||!a(b)||(null===(p=b.config.custom)||void 0===p||null===(c=p.hideFrom)||void 0===c?void 0:c.tooltip)||(null===(f=b.config.custom)||void 0===f||null===(d=f.hideFrom)||void 0===d?void 0:d.viz))continue;let O=n[E];if(null==O)continue;b.type!==e.FieldType.number&&b.type!==e.FieldType.boolean&&b.type!==e.FieldType.enum&&(u=!1);let I=t[E].values[O];t[0].values[0]!==r.values[0]&&(I=t[E].values[b.values.length-O-1]);const T=b.display(I),R=Number.isNaN(T.numeric)?l===m.Descending?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER:T.numeric;var g,y;s.push({label:null!==(g=null===(v=b.state)||void 0===v?void 0:v.displayName)&&void 0!==g?g:b.name,value:(0,e.formattedValueToString)(T),color:null!==(y=T.color)&&void 0!==y?y:e.FALLBACK_COLOR,colorIndicator:se.series,colorPlacement:ue.first,isActive:i===h.Multi&&o===E,numeric:R})}if(l!==m.None&&s.length>1){const e=u?pe:fe,t=l===m.Descending?-1:1;s.sort(((r,n)=>t*e(r,n)))}return s})(t[0].fields,d,n,o,i,l,(e=>u.includes(e.name))));let b=[];if(null!=o){b=((e,t)=>{const r=[],n=new Set;if(e.getLinks){const o=e.values[t],i=e.display?e.display(o):{text:`${o}`,numeric:+o};e.getLinks({calculatedValue:i,valueRowIndex:t}).forEach((e=>{const t=`${e.title}/${e.href}`;n.has(t)||(r.push(e),n.add(t))}))}return r})(r.fields[o],n[o])}const O={label:d.type===e.FieldType.time?"":(0,e.getFieldDisplayName)(d,r,t),value:f};return y().createElement("div",null,y().createElement("div",{className:p.wrapper},y().createElement(Re,{headerLabel:O,isPinned:s}),y().createElement(Se,{contentLabelValue:v,isPinned:s,scrollable:a}),(s||g.length>0)&&y().createElement(Ne,{dataLinks:b,annotate:c,customelabels:g})))},Ce=()=>({wrapper:(0,O.css)({display:"flex",flexDirection:"column"})});var xe=u(241);function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Fe(e,t,r[t])}))}return e}function Me(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function je(e){return"critical"===e.colorMode?"red":"warning"===e.colorMode?"orange":"custom"===e.colorMode?e.fillColor||e.lineColor:"red"}function _e(e){if(!e)return{};const r={axisPlacement:e.show?t.Auto:t.Hidden};if(e.label&&(r.axisLabel=e.label),e.logBase){const t=e.logBase;2!==t&&10!==t||(r.scaleDistribution={type:l.Log,log:t})}return(0,xe.omitBy)({unit:e.format,decimals:Ge(e.decimals),min:Ge(e.min),max:Ge(e.max),custom:r},xe.isNil)}function ke(e,t,r){for(const[n,o]of Object.entries(t))"custom"!==n&&o!==e[n]&&r.push({id:n,value:o});var n;const o=null!==(n=e.custom)&&void 0!==n?n:{};var i;const l=null!==(i=t.custom)&&void 0!==i?i:{};for(const[e,t]of Object.entries(l))t!==o[e]&&r.push({id:`custom.${e}`,value:t})}function Ge(e){if((0,xe.isNumber)(e))return e;if((0,xe.isString)(e)){const t=Number(e);if(!isNaN(t))return t}}function Be(t){return{matcher:{id:e.FieldMatcherID.byValue,options:{reducer:t,op:v.GTE,value:0}},properties:[{id:"custom.hideFrom",value:{tooltip:!0,viz:!1,legend:!0}}]}}function Ue(e){var t;const r=null===(t=lt.stacking)||void 0===t?void 0:t.group;return{mode:e?s.Normal:s.None,group:(0,xe.isString)(e)?e:r}}const Ve=({value:t,onChange:r})=>{const n=(0,E.useStyles2)($e);(!t||t.length<1)&&(t=[""]);const o=()=>{r([...t,e.InternalTimeZones.default])};return y().createElement("div",null,t.map(((i,l)=>y().createElement("div",{className:n.wrapper,key:`${l}.${i}`},y().createElement("span",{className:n.first},y().createElement(E.TimeZonePicker,{onChange:n=>((n,o)=>{const i=t.slice();i[n]=null!=o?o:e.InternalTimeZones.default,0===i.length||1===i.length&&""===i[0]?r(void 0):r(i)})(l,n),includeInternal:!0,value:null!=i?i:e.InternalTimeZones.default})),l===t.length-1?y().createElement(E.IconButton,{name:"plus",onClick:o,tooltip:"Add timezone"}):y().createElement(E.IconButton,{name:"times",onClick:()=>(e=>{const n=t.slice();n.splice(e,1),r(n)})(l),tooltip:"Remove timezone"})))))},$e=e=>({wrapper:O.css`
    width: 100%;
    display: flex;
    flex-direction: rows;
    align-items: center;
  `,first:O.css`
    margin-right: 8px;
    flex-grow: 2;
  `});var ze;!function(e){e.LessThan="lessthan",e.GreaterThan="greaterthan"}(ze||(ze={}));const Xe=({value:t,onChange:r,inputPrefix:n,isTime:o})=>{let i=e.rangeUtil.secondsToHms(t/1e3);o||(i="10");const l=t=>{let n=!1;if(t)try{n=o&&e.rangeUtil.isValidTimeSpan(t)?e.rangeUtil.intervalToMs(t):Number(t)}catch(e){console.warn("ERROR",e)}r(n)},a="greaterthan"===n?y().createElement("div",null,">"):"lessthan"===n?y().createElement("div",null,"<"):null;return y().createElement(E.Input,{autoFocus:!1,placeholder:"never",width:10,defaultValue:i,onKeyDown:e=>{"Enter"===e.key&&l(e.currentTarget.value)},onBlur:e=>{l(e.currentTarget.value)},prefix:a,spellCheck:!1})},He=[{label:"Never",value:!1},{label:"Always",value:!0},{label:"Threshold",value:36e5}],We=({value:e,onChange:t,item:r})=>{var n;const o="number"==typeof e;var i;return He[2].value=o?e:36e5,y().createElement(E.HorizontalGroup,null,y().createElement(E.RadioButtonGroup,{value:e,options:He,onChange:t}),o&&y().createElement(Xe,{value:e,onChange:t,inputPrefix:ze.LessThan,isTime:null!==(i=null===(n=r.settings)||void 0===n?void 0:n.isTime)&&void 0!==i&&i}))},Ze=[{label:"Never",value:!1},{label:"Threshold",value:36e5}],Ye=({value:e,onChange:t,item:r})=>{var n;const o="number"==typeof e;var i;return Ze[1].value=o?e:36e5,y().createElement(E.HorizontalGroup,null,y().createElement(E.RadioButtonGroup,{value:e,options:Ze,onChange:t}),o&&y().createElement(Xe,{value:e,onChange:t,inputPrefix:ze.GreaterThan,isTime:null!==(i=null===(n=r.settings)||void 0===n?void 0:n.isTime)&&void 0!==i&&i}))},qe=({item:e,value:t,onChange:r,id:n})=>{var o;const i=(0,g.useCallback)((e=>{r({mode:e.value})}),[r]);var l;return y().createElement(E.Select,{inputId:n,value:t.mode,options:null!==(l=null===(o=e.settings)||void 0===o?void 0:o.options)&&void 0!==l?l:[],onChange:i})};function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ke(e,t,r[t])}))}return e}function Qe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const et=[{label:"Solid",value:"solid"},{label:"Dash",value:"dash"},{label:"Dots",value:"dot"}],tt=["10, 10","10, 15","10, 20","10, 25","10, 30","10, 40","15, 10","20, 10","25, 10","30, 10","40, 10","50, 10","5, 10","30, 3, 3"].map((e=>({label:e,value:e}))),rt=["0, 10","0, 20","0, 30","0, 40","0, 3, 3"].map((e=>({label:e,value:e}))),nt=({value:e,onChange:t})=>{const r=(0,g.useMemo)((()=>"dash"===(null==e?void 0:e.fill)?tt:rt),[e]),n=(0,g.useMemo)((()=>{var t,n;if(!(null==e||null===(t=e.dash)||void 0===t?void 0:t.length))return r[0];const o=null===(n=e.dash)||void 0===n?void 0:n.join(", "),i=r.find((e=>e.value===o));return i||{label:o,value:o}}),[e,r]);return y().createElement(E.HorizontalGroup,null,y().createElement(E.RadioButtonGroup,{value:(null==e?void 0:e.fill)||"solid",options:et,onChange:r=>{let n;"dot"===r?n=ot(rt[0].value):"dash"===r&&(n=ot(tt[0].value)),t(Qe(Je({},e),{fill:r,dash:n}))}}),(null==e?void 0:e.fill)&&"solid"!==(null==e?void 0:e.fill)&&y().createElement(y().Fragment,null,y().createElement(E.Select,{allowCustomValue:!0,options:r,value:n,width:20,onChange:r=>{var n;t(Qe(Je({},e),{dash:ot(null!==(n=r.value)&&void 0!==n?n:"")}))},formatCreateLabel:e=>`Segments: ${ot(e).join(", ")}`}),y().createElement("div",null," ",y().createElement("a",{title:"The input expects a segment list",href:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Parameters",target:"_blank",rel:"noreferrer"},y().createElement(E.IconButton,{name:"question-circle",tooltip:"Help"})))))};function ot(e){const t=[];for(const r of e.split(/(?:,| )+/)){const e=Number.parseInt(r,10);isNaN(e)||t.push(e)}return t}var it=function(e){var t,r=e.item,n=e.value,o=e.onChange,i=e.context;if(i.data&&i.data.length>0){var l=i.data.flatMap((function(e){return e.fields})).filter((function(e){var t,n;return!(null===(t=r.settings)||void 0===t?void 0:t.filterByType)||(null===(n=r.settings)||void 0===n?void 0:n.filterByType.some((function(t){return e.type===t})))})).map((function(e){return{label:e.name,value:e.name}}));return(null===(t=r.settings)||void 0===t?void 0:t.multi)?y().createElement(E.MultiSelect,{isClearable:!0,isLoading:!1,value:n,onChange:function(e){return o(e.map((function(e){return e.value})))},options:l}):y().createElement(E.Select,{isClearable:!0,isLoading:!1,value:n,onChange:function(e){o(null==e?void 0:e.value)},options:l})}return y().createElement(E.Select,{onChange:function(){},disabled:!0})};u(485),u(501);const lt={drawStyle:n.Line,lineInterpolation:i.Linear,lineWidth:1,fillOpacity:0,gradientMode:a.None,barAlignment:p.Center,stacking:{mode:s.None,group:"A"},axisGridShow:!0,axisCenteredZero:!1,axisBorderShow:!1},at=["Graph styles"];function st(t,i=!0){return{standardOptions:{[e.FieldConfigProperty.Color]:{settings:{byValueSupport:!0,bySeriesSupport:!0,preferThresholdsMode:!1},defaultValue:{mode:e.FieldColorModeId.PaletteClassic}}},useCustomConfig:l=>{l.addRadio({path:"drawStyle",name:"Style",category:at,defaultValue:t.drawStyle,settings:{options:E.graphFieldOptions.drawStyle}}).addRadio({path:"lineInterpolation",name:"Line interpolation",category:at,defaultValue:t.lineInterpolation,settings:{options:E.graphFieldOptions.lineInterpolation},showIf:e=>e.drawStyle===n.Line}).addRadio({path:"barAlignment",name:"Bar alignment",category:at,defaultValue:t.barAlignment,settings:{options:E.graphFieldOptions.barAlignment},showIf:e=>e.drawStyle===n.Bars}).addSliderInput({path:"lineWidth",name:"Line width",category:at,defaultValue:t.lineWidth,settings:{min:0,max:10,step:1,ariaLabelForHandle:"Line width"},showIf:e=>e.drawStyle!==n.Points}).addSliderInput({path:"fillOpacity",name:"Fill opacity",category:at,defaultValue:t.fillOpacity,settings:{min:0,max:100,step:1,ariaLabelForHandle:"Fill opacity"},showIf:e=>e.drawStyle!==n.Points}).addRadio({path:"gradientMode",name:"Gradient mode",category:at,defaultValue:E.graphFieldOptions.fillGradient[0].value,settings:{options:E.graphFieldOptions.fillGradient},showIf:e=>e.drawStyle!==n.Points}).addFieldNamePicker({path:"fillBelowTo",name:"Fill below to",category:at,hideFromDefaults:!0,settings:{filter:t=>t.type===e.FieldType.number}}).addCustomEditor({id:"lineStyle",path:"lineStyle",name:"Line style",category:at,showIf:e=>e.drawStyle===n.Line,editor:nt,override:nt,process:e.identityOverrideProcessor,shouldApply:t=>t.type===e.FieldType.number}).addCustomEditor({id:"spanNulls",path:"spanNulls",name:"Connect null values",category:at,defaultValue:!1,editor:We,override:We,showIf:e=>e.drawStyle===n.Line,shouldApply:t=>t.type!==e.FieldType.time,process:e.identityOverrideProcessor,settings:{isTime:i}}).addCustomEditor({id:"insertNulls",path:"insertNulls",name:"Disconnect values",category:at,defaultValue:!1,editor:Ye,override:Ye,showIf:e=>e.drawStyle===n.Line,shouldApply:t=>t.type!==e.FieldType.time,process:e.identityOverrideProcessor,settings:{isTime:i}}).addRadio({path:"showPoints",name:"Show points",category:at,defaultValue:E.graphFieldOptions.showPoints[0].value,settings:{options:E.graphFieldOptions.showPoints},showIf:e=>e.drawStyle!==n.Points}).addSliderInput({path:"pointSize",name:"Point size",category:at,defaultValue:5,settings:{min:1,max:40,step:1,ariaLabelForHandle:"Point size"},showIf:e=>e.showPoints!==r.Never||e.drawStyle===n.Points}),E.commonOptionsBuilder.addStackingConfig(l,t.stacking,at),l.addSelect({category:at,name:"Transform",path:"transform",settings:{options:[{label:"Constant",value:o.Constant,description:"The first value will be shown as a constant line"},{label:"Negative Y",value:o.NegativeY,description:"Flip the results to negative values on the y axis"}],isClearable:!0},hideFromDefaults:!0}),E.commonOptionsBuilder.addAxisConfig(l,t),E.commonOptionsBuilder.addHideFrom(l),l.addCustomEditor({id:"thresholdsStyle",path:"thresholdsStyle",name:"Show thresholds",category:["Thresholds"],defaultValue:{mode:d.Off},settings:{options:E.graphFieldOptions.thresholdsDisplayModes},editor:qe,override:qe,process:e.identityOverrideProcessor,shouldApply:()=>!0})}}}const ut=new e.PanelPlugin((function({data:t,timeRange:r,timeZone:n,width:o,height:l,options:a,fieldConfig:s,id:u,onChangeTimeRange:c}){const{sync:p}=(0,E.usePanelContext)(),d=b.config.featureToggles.newVizTooltips&&(null==p||p()!==e.DashboardCursorSync.Tooltip),f=(0,g.useMemo)((()=>function(t,r,n,o){if(!(null==t?void 0:t.length))return null;let l=null!=o;null!=o&&o>0&&(t=[oe(ne({},t[0]),{fields:[t[0].fields[o],...t[0].fields.filter(((e,t)=>t!==o))]})]);for(let r of t)for(let t of r.fields)t.type===e.FieldType.time&&"number"!=typeof t.values[0]&&(t.values=ee(t,{destinationType:e.FieldType.time}).values);let a,s=0;e:for(let r of t)for(let n of r.fields)if(n.type===e.FieldType.enum&&++s>1){t=ie(t);break e}const u=[];for(let o of t){const t=[];let s=!1,f=!1,h=l?o:(0,e.applyNullInsertThreshold)({frame:o,refFieldPseudoMin:null==n?void 0:n.from.valueOf(),refFieldPseudoMax:null==n?void 0:n.to.valueOf()});const m=(0,e.nullToValue)(h).fields;var c;for(let n=0;null!==(c=n<(null==m?void 0:m.length))&&void 0!==c&&c;n++){const o=m[n];switch(o.type){case e.FieldType.time:s=!0,t.push(o);break;case e.FieldType.number:f=!l||n>0,a=oe(ne({},o),{values:o.values.map((e=>Number.isFinite(e)||null==e?e:null))}),t.push(a);break;case e.FieldType.enum:f=!0;case e.FieldType.string:a=oe(ne({},o),{values:o.values}),t.push(a);break;case e.FieldType.boolean:var p,d;f=!0;const u=null!==(d=null===(p=o.config)||void 0===p?void 0:p.custom)&&void 0!==d?d:{},c=oe(ne({},o.config),{max:1,min:0,custom:u});u.lineInterpolation!==i.StepBefore&&(u.lineInterpolation=i.StepAfter),a=oe(ne({},o),{config:c,type:e.FieldType.number,values:o.values.map((e=>null==e?e:Boolean(e)?1:0))}),(0,e.isBooleanUnit)(c.unit)||(c.unit="bool",a.display=(0,e.getDisplayProcessor)({field:a,theme:r})),t.push(a)}}(l||s)&&f&&u.push(oe(ne({},o),{length:h.length,fields:t}))}return u.length?(ae(u,r,0),le(u,r),u):null}(t.series,b.config.theme2,r)),[t.series,r]),m=(0,g.useMemo)((()=>function(e,t){return e&&e.length?e.map((e=>(null==e?void 0:e.length)?e:t)):[t]}(a.timezone,n)),[a.timezone,n]),v=(0,g.useMemo)((()=>{if((null==f?void 0:f.length)&&f.every((t=>{var r;return(null===(r=t.meta)||void 0===r?void 0:r.type)===e.DataFrameType.TimeSeriesLong})))return{message:"Long data must be converted to wide",suggestions:void 0}}),[f]);return!f||v?y().createElement(b.PanelDataErrorView,{panelId:u,message:null==v?void 0:v.message,fieldConfig:s,data:t,needsTimeField:!0,needsNumberField:!0,suggestions:null==v?void 0:v.suggestions}):y().createElement(E.TimeSeries,{frames:f,structureRev:t.structureRev,timeRange:r,timeZone:m,width:o,height:l,legend:a.legend,options:a},((e,t)=>y().createElement(y().Fragment,null,!d&&y().createElement(E.KeyboardPlugin,{config:e}),a.tooltip.mode===E.TooltipDisplayMode.None||y().createElement(y().Fragment,null,d?y().createElement(E.TooltipPlugin2,{config:e,hoverMode:a.tooltip.mode===E.TooltipDisplayMode.Single?1:0,queryZoom:c,clientZoom:!0,render:(e,r,n,o=!1,i,l,s)=>{return s?null:y().createElement(Ae,{frames:f,seriesFrame:t,labelFields:a.labelFields,dataIdxs:r,seriesIdx:n,mode:a.tooltip.mode,sortOrder:a.tooltip.sort,isPinned:o,scrollable:(u=a.tooltip,u.mode===h.Multi&&null!=u.maxHeight)});var u},maxWidth:a.tooltip.maxWidth,maxHeight:a.tooltip.maxHeight}):y().createElement(y().Fragment,null,y().createElement(E.ZoomPlugin,{config:e,onZoom:c,withZoomY:!0}),y().createElement(E.TooltipPlugin,{frames:f,data:t,config:e,mode:a.tooltip.mode,sortOrder:a.tooltip.sort,sync:p,timeZone:n}))),y().createElement(E.ZoomPlugin,{config:e,onZoom:c}))))})).setPanelChangeHandler(((l,u,c,p)=>{if("graph"===u&&c.angular){const{fieldConfig:u,options:v}=function(l){var u,c,p;let v=[];var g;const y=null!==(g=null===(u=l.fieldConfig)||void 0===u?void 0:u.overrides)&&void 0!==g?g:[];var E;const b=null!==(E=l.yaxes)&&void 0!==E?E:[];let O=_e(b[0]);var I,T,R;(null===(c=l.fieldConfig)||void 0===c?void 0:c.defaults)&&(O=De({},null===(I=l.fieldConfig)||void 0===I?void 0:I.defaults,O));const w={fill:l.dashes?"dash":"solid",dash:[null!==(T=l.dashLength)&&void 0!==T?T:10,null!==(R=l.spaceLength)&&void 0!==R?R:10]};if(l.aliasColors)for(const t of Object.keys(l.aliasColors)){const r=l.aliasColors[t];r&&y.push({matcher:{id:e.FieldMatcherID.byName,options:t},properties:[{id:e.FieldConfigProperty.Color,value:{mode:e.FieldColorModeId.Fixed,fixedColor:r}}]})}let N=!1;if(null===(p=l.seriesOverrides)||void 0===p?void 0:p.length)for(const t of l.seriesOverrides){if(!t.alias)continue;const i={matcher:{id:/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.test(t.alias)?e.FieldMatcherID.byRegexp:e.FieldMatcherID.byName,options:t.alias},properties:[]};let l;for(const a of Object.keys(t)){const s=t[a];switch(a){case"alias":case"$$hashKey":default:break;case"yaxis":if(2===s){ke(O,_e(b[1]),i.properties)}break;case"fill":i.properties.push({id:"custom.fillOpacity",value:10*s});break;case"fillBelowTo":N=!0,i.properties.push({id:"custom.fillBelowTo",value:s});break;case"fillGradient":s&&(i.properties.push({id:"custom.fillGradient",value:"opacity"}),i.properties.push({id:"custom.fillOpacity",value:10*s}));break;case"points":i.properties.push({id:"custom.showPoints",value:s?r.Always:r.Never});break;case"bars":s?(i.properties.push({id:"custom.drawStyle",value:n.Bars}),i.properties.push({id:"custom.fillOpacity",value:100})):i.properties.push({id:"custom.drawStyle",value:n.Line});break;case"lines":s?i.properties.push({id:"custom.drawStyle",value:"line"}):i.properties.push({id:"custom.lineWidth",value:0});break;case"linewidth":i.properties.push({id:"custom.lineWidth",value:s});break;case"pointradius":i.properties.push({id:"custom.pointSize",value:2+2*s});break;case"dashLength":case"spaceLength":case"dashes":switch(l||(l={fill:w.fill,dash:[...w.dash]}),a){case"dashLength":l.dash[0]=s;break;case"spaceLength":l.dash[1]=s;break;case"dashes":l.fill=s?"dash":"solid"}break;case"stack":i.properties.push({id:"custom.stacking",value:Ue(s)});break;case"color":i.properties.push({id:"color",value:{fixedColor:s,mode:e.FieldColorModeId.Fixed}});break;case"transform":i.properties.push({id:"custom.transform",value:"negative-Y"===s?o.NegativeY:o.Constant})}}l&&i.properties.push({id:"custom.lineStyle",value:l}),i.properties.length&&y.push(i)}var L;const S=null!==(L=O.custom)&&void 0!==L?L:{};S.drawStyle=l.bars?n.Bars:l.lines?n.Line:n.Points,l.points?(S.showPoints=r.Always,(0,xe.isNumber)(l.pointradius)&&(S.pointSize=2+2*l.pointradius)):S.drawStyle!==n.Points&&(S.showPoints=r.Never);S.lineWidth=l.linewidth,"solid"!==w.fill&&(S.lineStyle=w);N?S.fillOpacity=35:(0,xe.isNumber)(l.fill)&&(S.fillOpacity=10*l.fill);(0,xe.isNumber)(l.fillGradient)&&l.fillGradient>0&&(S.gradientMode=a.Opacity,S.fillOpacity=10*l.fillGradient);S.spanNulls=l.nullPointMode===e.NullValueMode.Ignore,l.steppedLine&&(S.lineInterpolation=i.StepAfter);S.drawStyle===n.Bars&&(S.fillOpacity=100);l.stack&&(S.stacking={mode:s.Normal,group:lt.stacking.group});O.custom=(0,xe.omitBy)(S,xe.isNil),O.nullValueMode=l.nullPointMode;const P={legend:{displayMode:f.List,showLegend:!0,placement:"bottom",calcs:[]},tooltip:{mode:h.Single,sort:m.None},labelFields:[]},A=l.legend;if(A){if(A.show?P.legend.displayMode=A.alignAsTable?f.Table:f.List:P.legend.showLegend=!1,A.rightSide&&(P.legend.placement="right"),l.legend.values){const t=(0,xe.pickBy)(l.legend);P.legend.calcs=function(t){const r=[];for(const n of Object.keys(t)){const t=e.fieldReducers.getIfExists(n);t&&r.push(t.id)}return r}(t)}l.legend.sideWidth&&(P.legend.width=l.legend.sideWidth),A.hideZero&&y.push(Be(e.ReducerID.allIsZero)),A.hideEmpty&&y.push(Be(e.ReducerID.allIsNull))}const C=l.tooltip;if(C&&(void 0!==C.shared&&(P.tooltip.mode=C.shared?h.Multi:h.Single),void 0!==C.sort&&C.shared))switch(C.sort){case 1:P.tooltip.sort=m.Ascending;break;case 2:P.tooltip.sort=m.Descending;break;default:P.tooltip.sort=m.None}if(l.thresholds&&l.thresholds.length>0){let t=[],r=!1,n=!1;const o=l.thresholds.sort(((e,t)=>e.value>t.value?1:-1));for(let e=0;e<o.length;e++){const i=o[e],l=o.length>e+1?o[e+1]:null;i.fill&&(r=!0),i.line&&(n=!0),"gt"===i.op&&t.push({value:i.value,color:je(i)}),"lt"===i.op&&(0===t.length&&t.push({value:-1/0,color:je(i)}),l&&"gt"===l.op&&l.value>i.value?t.push({value:i.value,color:"transparent"}):l&&"lt"===l.op?t.push({value:i.value,color:je(l)}):t.push({value:i.value,color:"transparent"}))}t.length>0&&t[0].value!==-1/0&&t.unshift({color:"transparent",value:-1/0});let i=r?d.Area:d.Line;n&&r&&(i=d.LineAndArea),O.custom.thresholdsStyle={mode:i},O.thresholds={mode:e.ThresholdsMode.Absolute,steps:t}}l.xaxis&&!1===l.xaxis.show&&"time"===l.xaxis.mode&&y.push({matcher:{id:e.FieldMatcherID.byType,options:e.FieldType.time},properties:[{id:"custom.axisPlacement",value:t.Hidden}]});return{fieldConfig:{defaults:(0,xe.omitBy)(O,xe.isNil),overrides:y},options:P,annotations:v}}(Me(De({},c.angular),{fieldConfig:p,panel:l}));return l.fieldConfig=u,l.alert=c.angular.alert,v}return function(e){var t,r,n,o,i;void 0!==(null===(o=e.fieldConfig)||void 0===o||null===(n=o.defaults)||void 0===n||null===(r=n.custom)||void 0===r||null===(t=r.hideFrom)||void 0===t?void 0:t.graph)&&(e.fieldConfig.defaults.custom.hideFrom.viz=e.fieldConfig.defaults.custom.hideFrom.graph,delete e.fieldConfig.defaults.custom.hideFrom.graph);(null===(i=e.fieldConfig)||void 0===i?void 0:i.overrides)&&(e.fieldConfig.overrides=e.fieldConfig.overrides.map((e=>(e.properties=e.properties.map((e=>("custom.hideFrom"===e.id&&e.value.graph&&(e.value.viz=e.value.graph,delete e.value.graph),e))),e))))}(l),{}})).useFieldConfig(st(lt)).setPanelOptions((e=>{E.commonOptionsBuilder.addTooltipOptions(e,!1,!0),E.commonOptionsBuilder.addLegendOptions(e),e.addCustomEditor({id:"timezone",name:"Time zone",path:"timezone",category:["Axis"],editor:Ve,defaultValue:void 0}),e.addCustomEditor({id:"labelFields",name:"Labels",path:"labelFields",category:["Tooltip"],description:"Fields to use as labels in the tooltip.",editor:it,settings:{multi:!0},defaultValue:void 0})})).setDataSupport({annotations:!0,alertStates:!0})})(),c})()));
//# sourceMappingURL=module.js.map